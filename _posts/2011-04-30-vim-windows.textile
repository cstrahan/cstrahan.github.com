---
layout: post
uuid: 1e4ecae055d7012e8515001fe16c6eb2
date: 2011-04-30 23:12:14
comments: true
title: Vim Tweaks on Windows
---

To be frank, getting "vim":http://www.vim.org/ and Windows to play nice is a bit of a pain in the ass. Here are some tips and tricks to get the most out of vim on Windows.

h2. Power Tools

If you want a pretty slick setup without too much hassle, check out "Fabio Akita":http://akitaonrails.com/ 's "vimfiles":https://github.com/akitaonrails/vimfiles. Here's a list of some of the bad-ass plugins that I find particularly useful (full list can be found on the GitHub repo):

* fugitive
* Command-T
* surround
* rails

h2. Make it Sexy

I absolutely _love_ the "Solarized":http://ethanschoonover.com/solarized theme. If you use Akita's vimfiles, you already have it installed (courtesy of yours truly).

Here are a couple other cosmetic changes from "my .vimrc":https://github.com/cstrahan/dotfiles/blob/master/.vimrc:

{% highlight vim %}
if has("gui_win32") || has("gui_win32s")
  set guifont=PragmataPro:h10
  set background=dark
  colorscheme solarized
endif

" Taggle Solarized light/dark background using F5 key
call togglebg#map("<F5>")

" No space between lines
set linespace=0

" Make csharp code use 4 spaces for tabs
autocmd FileType cs setlocal expandtab shiftwidth=4 softtabstop=4
{% endhighlight %}

If you don't already own a copy, go buy "PragmataPro":http://www.fsd.it/fonts/pragmatapro.htm - thine eyes shalt thank thee.

h2. Fixing Problems

Here are some problems I came across. If you have any of the following problems, see if the given solution will work for you.

h3. #1 - CommandT::VIM Conflicts with ::VIM

<pre class="console">
line 74
NoMethodError: undefined method `command' for CommandT::VIM:Module
</pre>

*Solution:* See "this page":https://wincent.com/issues/1752 for help.
https://wincent.com/forums/command-t/topics/427

h3. #2 - CommandT Crashes Vim

*Solution:* Following the "advice here":https://wincent.com/issues/1647 solved my problem. It appears that there's a bug in vim that was patched as of version 7.3.088.

You may also have to build CommandT. To do so, you'll need to have the Ruby DevKit installed. Then, enter the following in shell (change the paths to reflect your system):

<pre class="console">
c:\RubyDevKit\devkitvars.bat
cd C:\Users\Charles\vimfiles\bundle\Command-T\ruby\command-t
ruby extconf.rb
make
</pre>

h3. #3 - Fugitive's GDiff Fails

<pre class="console">
Error detected while processing function <SNR>12_BufReadIndexFile..<SNR>12_ReplaceCmd:
line  26:
E302: Could not rename swap file
Press ENTER or type command to continue
</pre>

*Solution:* One of the answers on "this StackOverflow question":http://stackoverflow.com/questions/2932399/error-using-the-gdiff-command-of-fugitive-vim-using-gvim-for-windows-and-msys-gi should do the trick.

h3. #4 - Mysterious Blank Screen

If you have a blank screen until you press a key, vim probably ran into a problem and displayed a warning. In my case, I needed to tell CSApprox to shut up:

{% highlight vim %}
" Put this at the very top of your .vimrc:
let g:CSApprox_verbose_level=0
{% endhighlight %}

h2. Anything Else?

If there's something that you think I'm missing, let me know!